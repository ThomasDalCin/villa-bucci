<!-- footer section -->
<div class="w-full h-auto">
  <div class="w-full lg:h-[1141px] flex flex-col items-start justify-start">
    <div class="w-full flex flex-col items-center justify-center lg:h-[641px] lg:max-h-[641px]">
      <div class="w-auto h-auto flex flex-col items-center justify-start">
        <h2 class="lg:text-[80px] lg:leading-[80px] lg:tracking-[-0.8px] uppercase">{{ section.settings.main_title | default: "Contatti" }}</h2>
        <a href="mailto:bucciwines@villabucci.com">
          <h2 class="lg:text-[60px] lg:leading-[80px] lg:tracking-[-0.6px] italic text-[#FF4A4A] text-decoration">
            {{ section.settings.email_text | default: "bucciwines@villabucci.com" }}</h2>
        </a>
      </div>
    </div>
    <div class="w-full lg:flex-1 relative lg:pb-[121px]">
      <!-- rhombus svg -->
      <div class="w-auto h-auto absolute left-1/2 -translate-1/2">
        {% render 'rhombus' %}
      </div>

      <!-- line footer left svg -->
      <div class="w-auto h-auto absolute left-0 top-0">
        {% render 'line-left-footer' %}
      </div>
      <!-- line footer right svg -->
      <div class="w-auto h-auto absolute right-0 top-0">
        {% render 'line-right-footer' %}
      </div>
      <div class="w-full lg:h-[380px] lg:max-h-[380px] flex flex-row items-center justify-start relative">
        {% assign block_count = 0 %}
        
        <div class="flex-1 h-full flex-row flex items-center justify-center">
          <div class="w-auto h-auto flex flex-row items-center justify-center gap-x-10">
            {% for block in section.blocks %}
              {% if block.type == 'block_footer_info' %}
                {% assign block_count = block_count | plus: 1 %}
                
                {% if block_count <= 2 %}
                  <div class="w-auto h-auto flex flex-col items-start justify-center gap-y-4">
                    <p class="text-[16px] leading-[24px] tracking-[0.12px] text-center" style="color: rgba(0, 0, 0, 0.40);">
                        {{ block.settings.box_title }}
                    </p>
                    <p class="text-[16px] leading-[24px] tracking-[0.12px] text-center">
                        {{ block.settings.box_text }}
                    </p>
                  </div>
                {% endif %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
      
        <div class="flex-1 h-full flex-row flex items-center justify-center">
          <div class="w-auto h-auto flex flex-row items-center justify-center gap-x-10">
            {% assign block_count = 0 %}
            {% for block in section.blocks %}
              {% if block.type == 'block_footer_info' %}
                {% assign block_count = block_count | plus: 1 %}
                
                {% if block_count > 2 and block_count <= 4 %}
                  <div class="w-auto h-auto flex flex-col items-start justify-center gap-y-4">
                    <p class="text-[16px] leading-[24px] tracking-[0.12px] text-center" style="color: rgba(0, 0, 0, 0.40);">
                        {{ block.settings.box_title }}
                    </p>
                    <p class="text-[16px] leading-[24px] tracking-[0.12px] text-center">
                        {{ block.settings.box_text }}
                    </p>
                  </div>
                {% endif %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
      
        <!-- line footer center svg -->
        <div class="w-auto h-auto absolute left-1/2 -translate-x-1/2 bottom-0 rotate-full">
          {% render 'line-center-footer' %}
        </div>
      </div>
      
    </div>
  </div>
</div>

{% style %}
  .text-decoration {
    text-decoration-line: underline;
    text-decoration-style: solid;
    text-decoration-skip-ink: none;
    text-decoration-thickness: 1px;
    text-underline-offset: 6px;
  }
{% endstyle %}

{% schema %}
  {
    "name": "footer",
    "settings": [
      {
        "type": "text",
        "id": "main_title",
        "label": "Main title"
      }, {
        "type": "text",
        "id": "email_text",
        "label": "Email"
      }
    ],
    "blocks": [
      {
        "name": "block_footer_info",
        "type": "block_footer_info",
        "settings": [
          {
            "type": "text",
            "id": "box_title",
            "label": "Info block title"
          }, {
            "type": "textarea",
            "id": "box_text",
            "label": "Info block text"
          }
        ]
      }
    ],
    "max_blocks": 4
  }
{% endschema %}